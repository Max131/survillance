---
import Layout from "@layouts/Default.astro";
import "../styles/global.css";
import "plyr/dist/plyr.css";

import { Play, Download } from "lucide-astro";
import Poster from "@images/vp.webp";
---

<Layout>
  <div class="max-w-[40rem] mx-auto px-4 lg:px-0">
    <article class="">
      <video controls playsinline class="aspect-video" data-poster={Poster.src}>
        <source />
      </video>
    </article>

    <ul class="list bg-base-100 rounded-box shadow-md mb-8" data-videolist>
      <li
        class="list-row p-4 pb-2 text-xs opacity-60 tracking-wide flex justify-between">
        <div>Recent videos</div>
        <div><a href="/security/view/">View cam</a></div>
      </li>

      <li class="list-row">
        <div>
          <img
            class="w-30 h-auto rounded-box"
            src={Poster.src}
            loading="lazy"
            alt="Video preview"
            data-image
          />
        </div>
        <div>
          <p><span class="font-semibold">CAM: 01</span></p>
          <p>
            <time class="text-xs" datetime="">2025-03-09</time>
          </p>
          <p>
            <time class="text-xs" datetime="">13:45:01</time>
          </p>
        </div>
        <div class="flex gap-2 items-end">
          <a
            class="btn btn-sm btn-square btn-info btn-soft hover:text-white"
            aria-label="Descargar video"
            download
            target="_blank"
            href=""
            data-download>
            <Download />
          </a>
          <button
            class="btn btn-sm btn-square btn-info btn-soft hover:text-white"
            aria-label="Reproducir video"
            data-video=""
            data-play>
            <Play />
          </button>
        </div>
      </li>
    </ul>
  </div>
</Layout>

<!-- <script>
  import Plyr from "plyr";

  document.addEventListener("DOMContentLoaded", () => {
    const player = new Plyr("video", {
      controls: [
        "play",
        "progress",
        "current-time",
        "settings",
        "pip",
        "fullscreen",
      ],
      ratio: "16:9",
    });

    player.source = {
      type: "video",
      title: "Security video",
      sources: [
        {
          src: button.dataset.video,
        },
      ],
    };

    player.play();
  });
</script> -->
